<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ys-text-annotation</title>
    <style>
      .container {
        margin-inline: auto;
        width: 100%;
        height: 750px;
        border: 1px solid red;
      }
    </style>
    <script type="module" src="/src/ys-text-annotation.ts"></script>
  </head>
  <body>
    <div class="container">
      <ys-text-annotation id="annotation-component"></ys-text-annotation>
    </div>
    <script type="module">
      import { mockContent, mockAnnotation, mockRelationship, defaultAnnotationTypes, defaultRelationshipTypes } from '/src/mock/index.ts'

      // ç­‰å¾…ç»„ä»¶åŠ è½½å®Œæˆ
      window.addEventListener('DOMContentLoaded', () => {
        const component = document.getElementById('annotation-component')
        if (component) {
          // ä½¿ç”¨ç»Ÿä¸€åˆå§‹åŒ–æ–¹æ³•
          component.init({
            content: mockContent,
            annotationType: defaultAnnotationTypes,
            relationshipType: defaultRelationshipTypes
          })

          component.setData({
            annotations: mockAnnotation,
            relationships: mockRelationship
          })

          const data = component.getData()
          console.log('ğŸš€ ~ åˆå§‹åŒ–æ•°æ®:', data)

          // ç›‘å¬æ•°æ®å˜åŒ–äº‹ä»¶
          component.addEventListener('data-change', e => {
            console.log('ğŸ“¢ æ•°æ®å˜åŒ–äº†:', e.detail)
            console.log('  - annotations:', e.detail.annotations)
            console.log('  - relationships:', e.detail.relationships)
          })
        }
      })
    </script>
  </body>
</html>
